---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import ExperienceComponent from "../components/Experience.tsx";

const experience = await getCollection('experience');
const sortedExperience = experience.sort((a, b) => new Date(b.data.startDate).getTime() - new Date(a.data.startDate).getTime());

---



<Layout pageTitle="Experience">
	<h1 class="text-4xl font-bold my-8">Experience</h1>
	<div class="flex flex-col gap-4">
		{sortedExperience.map((exp, i) => (
			<ExperienceComponent 
				company={exp.data.company}
				position={exp.data.position}
				startDate={exp.data.startDate}
				endDate={exp.data.endDate}
				description={exp.data.description}
				link={exp.data.link}
				index={i}
			/>
		))}
	</div>
</Layout>
